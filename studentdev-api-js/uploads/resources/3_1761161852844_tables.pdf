CREATE TABLE resources (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255),
    type ENUM('video','tutorial','practice','document','project'),
    name VARCHAR(255),
    content TEXT,
    url TEXT,
    description TEXT,
    level ENUM('beginner','intermediate','advanced'),
    duration VARCHAR(50),
    icon VARCHAR(50),
    color VARCHAR(20)
);

CREATE TABLE reviews (
    id INT AUTO_INCREMENT PRIMARY KEY,
    resource_id INT,
    text TEXT,
    rating INT,
    date DATE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_reviews_resource
        FOREIGN KEY (resource_id) REFERENCES resources(id)
        ON DELETE CASCADE
);

CREATE TABLE saved_resources (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(100) NOT NULL,
    resource_id INT NOT NULL,
    saved_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_saved_resource
        FOREIGN KEY (resource_id) REFERENCES resources(id)
        ON DELETE CASCADE
);
